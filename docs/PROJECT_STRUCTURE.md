# é¡¹ç›®ç»“æ„è¯´æ˜

æœ¬æ–‡æ¡£æè¿°äº†é‡æ–°æ•´ç†åçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼Œå°†æµ‹è¯•ä»£ç ã€å®é™…ä»£ç å’Œæ–‡æ¡£è¿›è¡Œäº†åˆ†ç¦»ã€‚

## ç›®å½•ç»“æ„

```
Cursor-Web-2/
â”œâ”€â”€ docs/                           # ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ARCHITECTURE_REFACTOR.md   # æ¶æ„é‡æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ CHANGELOG.md               # æ›´æ–°æ—¥å¿—
â”‚   â”œâ”€â”€ CONTRIBUTING.md            # è´¡çŒ®æŒ‡å—
â”‚   â”œâ”€â”€ HISTORY_FEATURES.md        # åŠŸèƒ½å†å²
â”‚   â”œâ”€â”€ MESSAGE-SEND-TEST-REPORT.md # æ¶ˆæ¯å‘é€æµ‹è¯•æŠ¥å‘Š
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md       # é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡æ¡£ï¼‰
â”‚   â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â”‚   â”œâ”€â”€ README.assets/             # READMEèµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ TEST-GUIDE.md             # æµ‹è¯•æŒ‡å—
â”‚   â”œâ”€â”€ TESTING.md                # æµ‹è¯•æ–‡æ¡£
â”‚   â””â”€â”€ USAGE.md                  # ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ src/                           # ğŸ”§ æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ app.js                    # ä¸»åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ instances.json
â”‚   â”‚   â””â”€â”€ serverConfig.js
â”‚   â”œâ”€â”€ middleware/               # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ appMiddleware.js
â”‚   â”‚   â””â”€â”€ cors.js
â”‚   â”œâ”€â”€ routes/                   # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ contentRoutes.js
â”‚   â”‚   â”œâ”€â”€ gitRoutes.js
â”‚   â”‚   â”œâ”€â”€ historyRoutes.js
â”‚   â”‚   â”œâ”€â”€ injectRoutes.js
â”‚   â”‚   â””â”€â”€ instancesRoutes.js
â”‚   â”œâ”€â”€ scripts/                  # è„šæœ¬æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ auto-inject-cursor.js
â”‚   â”œâ”€â”€ services/                 # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ chatManager-fallback.js
â”‚   â”‚   â”œâ”€â”€ chatManager.js
â”‚   â”‚   â”œâ”€â”€ cursorHistoryManager-real.js
â”‚   â”‚   â”œâ”€â”€ gitService.js
â”‚   â”‚   â”œâ”€â”€ sqliteReader.js
â”‚   â”‚   â””â”€â”€ websocketManager.js
â”‚   â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ logger.js
â”‚       â”œâ”€â”€ network.js
â”‚       â””â”€â”€ serverUtils.js
â”œâ”€â”€ tests/                         # ğŸ§ª æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ README.md                 # æµ‹è¯•è¯´æ˜
â”‚   â”œâ”€â”€ advanced-routing-test.js  # é«˜çº§è·¯ç”±æµ‹è¯•
â”‚   â”œâ”€â”€ auto-test-send.js         # è‡ªåŠ¨æµ‹è¯•å‘é€
â”‚   â”œâ”€â”€ comprehensive-test.js     # ç»¼åˆæµ‹è¯•
â”‚   â”œâ”€â”€ end-to-end-test.js        # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ feedback-diagnostic.js    # åé¦ˆè¯Šæ–­
â”‚   â”œâ”€â”€ message-send-test.js      # æ¶ˆæ¯å‘é€æµ‹è¯•
â”‚   â”œâ”€â”€ mock-cursor-client.js     # æ¨¡æ‹ŸCursorå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ multi-instance-test.js    # å¤šå®ä¾‹æµ‹è¯•
â”‚   â”œâ”€â”€ run-all-tests.js          # è¿è¡Œæ‰€æœ‰æµ‹è¯•
â”‚   â”œâ”€â”€ run-test.js               # æµ‹è¯•è¿è¡Œå™¨
â”‚   â”œâ”€â”€ send-receive-poll.js      # å‘é€æ¥æ”¶è½®è¯¢æµ‹è¯•
â”‚   â”œâ”€â”€ simple-send-test.js       # ç®€å•å‘é€æµ‹è¯•
â”‚   â”œâ”€â”€ test-config.js            # æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ test-manager.js           # æµ‹è¯•ç®¡ç†å™¨
â”‚   â”œâ”€â”€ test-message.json         # æµ‹è¯•æ¶ˆæ¯
â”‚   â”œâ”€â”€ test-report.json          # æµ‹è¯•æŠ¥å‘Š
â”‚   â”œâ”€â”€ test-utils.js             # æµ‹è¯•å·¥å…·
â”‚   â””â”€â”€ ws-routing-test.js        # WebSocketè·¯ç”±æµ‹è¯•
â”œâ”€â”€ public/                        # ğŸŒ é™æ€èµ„æº
â”‚   â”œâ”€â”€ *.html                    # HTMLé¡µé¢
â”‚   â”œâ”€â”€ *.js                      # å‰ç«¯è„šæœ¬
â”‚   â”œâ”€â”€ style.css                 # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/                       # JavaScriptæ¨¡å—
â”œâ”€â”€ .github/                       # GitHubé…ç½®
â”œâ”€â”€ .vs/                          # Visual Studioé…ç½®
â”œâ”€â”€ .claude/                      # Claudeé…ç½®
â”œâ”€â”€ instances.json                # å®ä¾‹é…ç½®
â”œâ”€â”€ plan.md                       # è®¡åˆ’æ–‡æ¡£
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â”œâ”€â”€ package-lock.json             # ä¾èµ–é”å®š
â””â”€â”€ å…¶ä»–é…ç½®æ–‡ä»¶                   # .gitignore, .editorconfigç­‰
```

## ç›®å½•è¯´æ˜

### ğŸ“š docs/ - æ–‡æ¡£ç›®å½•
å­˜æ”¾æ‰€æœ‰é¡¹ç›®ç›¸å…³çš„æ–‡æ¡£ï¼ŒåŒ…æ‹¬ï¼š
- é¡¹ç›®è¯´æ˜å’Œä½¿ç”¨æŒ‡å—
- æ¶æ„è®¾è®¡æ–‡æ¡£
- æµ‹è¯•æŒ‡å—å’ŒæŠ¥å‘Š
- æ›´æ–°æ—¥å¿—å’Œè´¡çŒ®æŒ‡å—

### ğŸ”§ src/ - æºä»£ç ç›®å½•
å­˜æ”¾æ‰€æœ‰æ ¸å¿ƒåº”ç”¨ä»£ç ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ï¼š
- **app.js**: ä¸»åº”ç”¨å…¥å£æ–‡ä»¶
- **config/**: é…ç½®æ–‡ä»¶å’Œè®¾ç½®
- **middleware/**: Expressä¸­é—´ä»¶
- **routes/**: APIè·¯ç”±å®šä¹‰
- **services/**: ä¸šåŠ¡é€»è¾‘æœåŠ¡
- **utils/**: é€šç”¨å·¥å…·å‡½æ•°
- **scripts/**: è‡ªåŠ¨åŒ–è„šæœ¬

### ğŸ§ª tests/ - æµ‹è¯•ç›®å½•
å­˜æ”¾æ‰€æœ‰æµ‹è¯•ç›¸å…³æ–‡ä»¶ï¼š
- å•å…ƒæµ‹è¯•
- é›†æˆæµ‹è¯•
- ç«¯åˆ°ç«¯æµ‹è¯•
- æµ‹è¯•å·¥å…·å’Œé…ç½®
- æ¨¡æ‹Ÿå®¢æˆ·ç«¯

### ğŸŒ public/ - é™æ€èµ„æº
å­˜æ”¾å‰ç«¯é™æ€æ–‡ä»¶ï¼š
- HTMLé¡µé¢
- JavaScriptè„šæœ¬
- CSSæ ·å¼
- å›¾ç‰‡å’Œå…¶ä»–èµ„æº

## å¯åŠ¨å‘½ä»¤æ›´æ–°

é‡æ–°ç»„ç»‡åï¼Œå¯åŠ¨å‘½ä»¤å·²æ›´æ–°ï¼š

```bash
# å¯åŠ¨åº”ç”¨
npm start          # è¿è¡Œ node src/app.js
npm run dev        # è¿è¡Œ nodemon src/app.js

# è¿è¡Œæµ‹è¯•
npm test           # è¿è¡Œ node tests/run-test.js
npm run test:comprehensive  # è¿è¡Œç»¼åˆæµ‹è¯•

# å…¶ä»–è„šæœ¬
npm run inject     # è¿è¡Œæ³¨å…¥è„šæœ¬
```

## è¿ç§»è¯´æ˜

1. **æ–‡æ¡£æ•´ç†**: æ‰€æœ‰`.md`æ–‡ä»¶å’Œ`README.assets`ç§»åŠ¨åˆ°`docs/`ç›®å½•
2. **ä»£ç æ•´ç†**: æ ¸å¿ƒåº”ç”¨ä»£ç ç§»åŠ¨åˆ°`src/`ç›®å½•ï¼Œä¿æŒåŸæœ‰æ¨¡å—ç»“æ„
3. **æµ‹è¯•æ•´ç†**: æ‰€æœ‰æµ‹è¯•æ–‡ä»¶ç§»åŠ¨åˆ°`tests/`ç›®å½•
4. **è·¯å¾„æ›´æ–°**: `package.json`ä¸­çš„è„šæœ¬è·¯å¾„å·²ç›¸åº”æ›´æ–°

è¿™ç§ç»“æ„ä½¿é¡¹ç›®æ›´åŠ æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤å’Œå¼€å‘ã€‚